"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[403],{3744:(e,t)=>{t.Z=(e,t)=>{const o=e.__vccOpts||e;for(const[e,n]of t)o[e]=n;return o}},6403:(e,t,o)=>{o.r(t),o.d(t,{default:()=>Z});var n=o(821),a={style:{"--bs-breadcrumb-divider":"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E\")"},"aria-label":"breadcrumb"},r={class:"breadcrumb"},s={class:"breadcrumb-item"},l=(0,n.createTextVNode)("Home"),c={class:"breadcrumb-item active","aria-current":"page"},i={class:"card"},d={class:"shadow-sm rounded card-body shadow"},m=(0,n.createElementVNode)("img",{src:"/images/batman.jpeg",alt:"",class:"img-fluid"},null,-1),u=(0,n.createElementVNode)("hr",null,null,-1),p={class:"d-flex align-items-center justify-content-between"},b={class:"mb-0"},f={key:0,class:"spinner-border text-primary",role:"status"},h=[(0,n.createElementVNode)("span",{class:"visually-hidden"},"Loading...",-1)],v=["disabled","onClick"],g={key:0,class:"fa fa-check"};var k={class:"container",style:{"margin-top":"80px"}},V={class:"row my-5"};var E=(0,n.createStaticVNode)('<nav class="navbar navbar-expand-lg bg-primary position-fixed fixed-top"><div class="container-fluid"><a class="navbar-brand text-white d-flex align-items-center" href="#"><img src="/images/logo_ucsm.png" class="me-2" style="width:30px;" alt=""><span class="fw-bold h3 mb-0 me-2">UCSM</span><span class="welcome">Flesher Welcome</span></a><button class="btn btn-light menu-btn" type="button" data-bs-toggle="modal" data-bs-target="#exampleModal"><i class="fa fa-bars text-primary"></i></button></div></nav>',1);var N={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},y={class:"modal-dialog modal-dialog-centered"},B={class:"modal-content"},x=(0,n.createElementVNode)("div",{class:"modal-header d-flex align-items-center"},[(0,n.createElementVNode)("h3",{class:"welcome mb-0"},"Flesher Welcome"),(0,n.createElementVNode)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),w={class:"modal-body"},C={class:"text-center"},$=["onClick"],_={key:0,class:"text-success fa fa-check"};const M={data:function(){return{role:[{name:"Prince",slug:"prince"},{name:"Princess",slug:"princess"},{name:"Best Performance",slug:"performance"},{name:"Best Singer",slug:"singer"}]}},computed:{user:function(){if(this.$store.state.auth)return this.$store.state.auth.data.user}},methods:{menuBtn:function(e){e&&this.$router.push({name:"competitor",params:{competitor:e}})},dashboard:function(){this.$router.push({name:"create-competitors"})},isVoted:function(e){return!!this.$store.state.competitors.filter((function(t){return t.role===e})).find((function(e){return!0===e.is_vote}))}}};var S=o(3744);const L={components:{Menu:(0,S.Z)(M,[["render",function(e,t,o,a,r,s){var l=this;return(0,n.openBlock)(),(0,n.createElementBlock)("div",N,[(0,n.createElementVNode)("div",y,[(0,n.createElementVNode)("div",B,[x,(0,n.createElementVNode)("div",w,[(0,n.createElementVNode)("div",C,["admin"===this.$store.state.auth.data.user.role?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:0,"data-bs-dismiss":"modal",onClick:t[0]||(t[0]=function(){return s.dashboard&&s.dashboard.apply(s,arguments)}),class:"my-2 w-75 text-white btn-lg btn btn-primary rounded-pill"},"Dashboard")):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("ul",null,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(r.role,(function(e){return(0,n.openBlock)(),(0,n.createElementBlock)("li",{key:e.name},[(0,n.createElementVNode)("button",{"data-bs-dismiss":"modal",class:"my-2 w-75 text-white btn-lg btn btn-primary rounded-pill",onClick:function(t){return s.menuBtn(e.slug)}},[(0,n.createTextVNode)((0,n.toDisplayString)(e.name)+" ",1),s.isVoted(e.slug)?((0,n.openBlock)(),(0,n.createElementBlock)("i",_)):(0,n.createCommentVNode)("",!0)],8,$)])})),128))]),(0,n.createElementVNode)("button",{"data-bs-dismiss":"modal",class:"my-3 w-75 text-white btn-lg btn logoutBtn rounded-pill",onClick:t[1]||(t[1]=function(e){return l.$store.dispatch("logout")})},"Logout")])])])])])}]])}},D={components:{Header:(0,S.Z)(L,[["render",function(e,t,o,a,r,s){var l=(0,n.resolveComponent)("Menu");return(0,n.openBlock)(),(0,n.createElementBlock)("div",null,[E,(0,n.createVNode)(l)])}]])}},P={components:{Master:(0,S.Z)(D,[["render",function(e,t,o,a,r,s){var l=(0,n.resolveComponent)("Header");return(0,n.openBlock)(),(0,n.createElementBlock)("div",null,[(0,n.createVNode)(l),(0,n.createElementVNode)("div",k,[(0,n.createElementVNode)("div",V,[(0,n.renderSlot)(e.$slots,"default")])])])}]])},data:function(){return{loading:!1}},created:function(){this.$Progress.start();var e=this.competitors.find((function(e){return!0===e.is_vote}));console.log(e)},mounted:function(){this.$Progress.finish()},computed:{isVoted:function(){return!!this.competitors.find((function(e){return!0===e.is_vote}))},competitors:function(){var e=this;return this.$store.state.competitors.filter((function(t){return t.role===e.$route.params.competitor}))}},methods:{vote:function(e,t,o){this.$store.dispatch("vote",{role:e,id:t,competitor_id:o})}}},Z=(0,S.Z)(P,[["render",function(e,t,o,k,V,E){var N=this,y=(0,n.resolveComponent)("router-link"),B=(0,n.resolveComponent)("master");return(0,n.openBlock)(),(0,n.createBlock)(B,null,{default:(0,n.withCtx)((function(){return[(0,n.createElementVNode)("nav",a,[(0,n.createElementVNode)("ol",r,[(0,n.createElementVNode)("li",s,[(0,n.createVNode)(y,{to:{name:"home"}},{default:(0,n.withCtx)((function(){return[l]})),_:1})]),(0,n.createElementVNode)("li",c,(0,n.toDisplayString)(N.$route.params.competitor),1)])]),((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(E.competitors,(function(e){return(0,n.openBlock)(),(0,n.createElementBlock)("div",{class:"col-ms-12 col-md-6 col-lg-4 mb-3",key:e.id},[(0,n.createElementVNode)("div",i,[(0,n.createElementVNode)("div",d,[m,u,(0,n.createElementVNode)("div",p,[(0,n.createElementVNode)("h3",b,(0,n.toDisplayString)(e.name),1),(0,n.createElementVNode)("form",{action:"",onClick:t[0]||(t[0]=(0,n.withModifiers)((function(e){return E.vote()}),["prevent"]))}),N.$store.state.loading?((0,n.openBlock)(),(0,n.createElementBlock)("div",f,h)):((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:1,disabled:1==E.isVoted&&0==e.is_vote,class:(0,n.normalizeClass)(["text-white",1==E.isVoted&&0==e.is_vote?"text-decoration-line-through btn btn-primary":e.is_vote?"btn-success btn":"btn btn-primary"]),onClick:function(t){return 1==E.isVoted&&0==e.is_vote?"":E.vote(e.role,N.$store.state.auth.data.user.id,e.id)}},[(0,n.createElementVNode)("span",null,[(0,n.createTextVNode)((0,n.toDisplayString)(e.is_vote?"voted":"vote")+" ",1),e.is_vote?((0,n.openBlock)(),(0,n.createElementBlock)("i",g)):(0,n.createCommentVNode)("",!0)])],10,v))])])])])})),128))]})),_:1})}]])}}]);
//# sourceMappingURL=403.js.map